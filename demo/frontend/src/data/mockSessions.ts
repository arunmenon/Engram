import type { ChatMessage, Session } from '../types/chat';

export const sessions: Session[] = [
  {
    id: 'session-1',
    title: 'The Billing Problem',
    subtitle: 'Duplicate charge investigation & refund',
    start_time: '2024-03-01T10:00:00Z',
    end_time: '2024-03-01T10:25:00Z',
    color: '#3b82f6',
    message_count: 12,
  },
  {
    id: 'session-2',
    title: 'The Feature Request',
    subtitle: 'Kanban swimlane discussion',
    start_time: '2024-03-08T14:00:00Z',
    end_time: '2024-03-08T14:20:00Z',
    color: '#22c55e',
    message_count: 10,
  },
  {
    id: 'session-3',
    title: 'The Escalation',
    subtitle: 'Data loss incident & recovery',
    start_time: '2024-03-22T09:00:00Z',
    end_time: '2024-03-22T09:30:00Z',
    color: '#f59e0b',
    message_count: 10,
  },
];

export const messages: ChatMessage[] = [
  // Session 1: The Billing Problem
  {
    id: 'msg-1-1',
    session_id: 'session-1',
    role: 'user',
    content: "Hi, I was charged twice for my team's Nimbus Pro subscription this month.",
    timestamp: '2024-03-01T10:00:00Z',
  },
  {
    id: 'msg-1-2',
    session_id: 'session-1',
    role: 'agent',
    content: "I can see your account, Sarah. Let me look into that duplicate charge right away.",
    timestamp: '2024-03-01T10:01:00Z',
    tools_used: ['billing_lookup'],
    provenance_node_ids: ['evt-1-1', 'entity-billing', 'entity-nimbus'],
    context_nodes_used: 3,
  },
  {
    id: 'msg-1-3',
    session_id: 'session-1',
    role: 'user',
    content: "Yes, both charges are for $49.99 on March 1st and March 3rd.",
    timestamp: '2024-03-01T10:03:00Z',
  },
  {
    id: 'msg-1-4',
    session_id: 'session-1',
    role: 'agent',
    content: "Found it \u2014 the March 3rd charge was a processing error from our payment gateway. I've initiated a refund of $49.99 to your card ending in 4242.",
    timestamp: '2024-03-01T10:05:00Z',
    tools_used: ['refund_initiate'],
    provenance_node_ids: ['evt-1-3', 'entity-billing', 'entity-refund'],
    context_nodes_used: 4,
  },
  {
    id: 'msg-1-5',
    session_id: 'session-1',
    role: 'user',
    content: "Thanks! By the way, please follow up via email, not phone. I'm the engineering team lead and I'm usually in deep work.",
    timestamp: '2024-03-01T10:08:00Z',
  },
  {
    id: 'msg-1-6',
    session_id: 'session-1',
    role: 'agent',
    content: "Absolutely, I'll note your preference for email communication. The refund should process in 3-5 business days. I'll send a confirmation to your email on file.",
    timestamp: '2024-03-01T10:09:00Z',
    provenance_node_ids: ['pref-email', 'entity-sarah'],
    context_nodes_used: 2,
  },

  // Session 2: The Feature Request
  {
    id: 'msg-2-1',
    session_id: 'session-2',
    role: 'user',
    content: "Hey, I have a question about the Kanban board feature.",
    timestamp: '2024-03-08T14:00:00Z',
  },
  {
    id: 'msg-2-2',
    session_id: 'session-2',
    role: 'agent',
    content: "Welcome back, Sarah! I see your refund from last week was processed successfully. How can I help with the Kanban board?",
    timestamp: '2024-03-08T14:01:00Z',
    provenance_node_ids: ['entity-sarah', 'entity-refund', 'entity-kanban', 'summary-s1'],
    context_nodes_used: 6,
  },
  {
    id: 'msg-2-3',
    session_id: 'session-2',
    role: 'user',
    content: "We need swimlane support. Our team organizes by developer and it's painful without swimlanes.",
    timestamp: '2024-03-08T14:04:00Z',
  },
  {
    id: 'msg-2-4',
    session_id: 'session-2',
    role: 'agent',
    content: "Swimlanes are on our Q3 roadmap. Given your team's workflow, I can see why that's important. Would you like me to connect you with our product team for early access?",
    timestamp: '2024-03-08T14:06:00Z',
    provenance_node_ids: ['entity-kanban', 'entity-swimlanes', 'pref-kanban', 'skill-kanban'],
    context_nodes_used: 5,
  },
  {
    id: 'msg-2-5',
    session_id: 'session-2',
    role: 'user',
    content: "Yes please. We're actually evaluating Taskflow as an alternative, so the timing matters.",
    timestamp: '2024-03-08T14:09:00Z',
  },
  {
    id: 'msg-2-6',
    session_id: 'session-2',
    role: 'agent',
    content: "Understood \u2014 I'll flag this as competitive urgency and connect you with our product lead this week. I'll follow up via email as you prefer.",
    timestamp: '2024-03-08T14:11:00Z',
    provenance_node_ids: ['entity-taskflow', 'pref-email', 'entity-sarah'],
    context_nodes_used: 4,
  },

  // Session 3: The Escalation
  {
    id: 'msg-3-1',
    session_id: 'session-3',
    role: 'user',
    content: "We have a serious problem. The Kanban board just lost all our sprint planning data.",
    timestamp: '2024-03-22T09:00:00Z',
  },
  {
    id: 'msg-3-2',
    session_id: 'session-3',
    role: 'agent',
    content: "I'm so sorry to hear this, Sarah. Given your team's reliance on the Kanban board and that you mentioned evaluating alternatives, I'm treating this as high priority. Let me escalate immediately.",
    timestamp: '2024-03-22T09:02:00Z',
    tools_used: ['escalate_ticket', 'data_recovery_check'],
    provenance_node_ids: ['entity-kanban', 'entity-sarah', 'entity-taskflow', 'pref-kanban', 'pattern-escalation', 'summary-s2'],
    context_nodes_used: 8,
  },
  {
    id: 'msg-3-3',
    session_id: 'session-3',
    role: 'user',
    content: "This is exactly the kind of thing that makes us consider switching. We can't afford data loss.",
    timestamp: '2024-03-22T09:05:00Z',
  },
  {
    id: 'msg-3-4',
    session_id: 'session-3',
    role: 'agent',
    content: "Completely understand. I've escalated to our VP of Engineering. We've found a backup from 2 hours ago \u2014 most of your sprint data should be recoverable. Our team is working on restoration now.",
    timestamp: '2024-03-22T09:08:00Z',
    tools_used: ['data_recovery_check'],
    provenance_node_ids: ['entity-sprint-data', 'entity-kanban', 'evt-3-2'],
    context_nodes_used: 5,
  },
  {
    id: 'msg-3-5',
    session_id: 'session-3',
    role: 'user',
    content: "Okay, please have someone senior follow up with me via email about what happened and what you're doing to prevent it.",
    timestamp: '2024-03-22T09:12:00Z',
  },
  {
    id: 'msg-3-6',
    session_id: 'session-3',
    role: 'agent',
    content: "Absolutely. I've requested a postmortem from our engineering team and asked our VP of Engineering to email you directly within 24 hours. Given the severity, I've also flagged your account for priority support.",
    timestamp: '2024-03-22T09:14:00Z',
    provenance_node_ids: ['pref-email', 'entity-sarah', 'pattern-escalation'],
    context_nodes_used: 4,
  },
];
